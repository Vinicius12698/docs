

## POST /iptv

Cria um novo usuário ou teste IPTV no sistema.

### Método e Rota
```
POST /iptv
```

### Parâmetros do Corpo da Requisição

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `username` | string | Sim | Nome de usuário IPTV |
| `password` | string | Sim | Senha do usuário |
| `max_connections` | integer | Não | Número máximo de conexões simultâneas (padrão: 1) |
| `is_trial` | boolean | Não | Se é um teste gratuito (padrão: false) |
| `trial_duration` | integer | Não | Duração do teste em horas (obrigatório se is_trial=true) |
| `package_id` | integer | Sim | ID do pacote IPTV |
| `resale_id` | integer | Sim | ID da revenda |

### Exemplo de Requisição

```bash
curl -X POST "https://api.paineloffice.com/iptv" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer {token}" \
  -d '{
    "username": "usuario_iptv_001",
    "password": "senha123",
    "max_connections": 2,
    "is_trial": false,
    "package_id": 5,
    "resale_id": 15
  }'
```

### Exemplo de Resposta

**Sucesso (201 Created):**
```json
{
  "success": true,
  "message": "Usuário IPTV criado com sucesso",
  "data": {
    "id": 1001,
    "username": "usuario_iptv_001",
    "max_connections": 2,
    "is_trial": false,
    "status": "active",
    "package_id": 5,
    "resale_id": 15,
    "expires_at": "2024-02-15T10:30:00Z",
    "created_at": "2024-01-15T10:30:00Z",
    "connection_url": "http://servidor.iptv.com:8080",
    "m3u_url": "http://servidor.iptv.com:8080/get.php?username=usuario_iptv_001&password=senha123&type=m3u_plus"
  }
}
```

---

## PUT /iptv/extend/{id}

Renova um usuário IPTV existente, estendendo sua validade.

### Método e Rota
```
PUT /iptv/extend/{id}
```

### Parâmetros da URL

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `id` | integer | Sim | ID do usuário IPTV |

### Parâmetros do Corpo da Requisição

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `extend_days` | integer | Sim | Número de dias para estender |
| `package_id` | integer | Não | Novo ID do pacote (opcional) |

### Exemplo de Requisição

```bash
curl -X PUT "https://api.paineloffice.com/iptv/extend/1001" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer {token}" \
  -d '{
    "extend_days": 30,
    "package_id": 5
  }'
```

### Exemplo de Resposta

**Sucesso (200 OK):**
```json
{
  "success": true,
  "message": "Usuário IPTV renovado com sucesso",
  "data": {
    "id": 1001,
    "username": "usuario_iptv_001",
    "previous_expires_at": "2024-02-15T10:30:00Z",
    "new_expires_at": "2024-03-16T10:30:00Z",
    "days_extended": 30,
    "package_id": 5,
    "updated_at": "2024-01-15T11:00:00Z"
  }
}
```

---

## POST /iptv/activate/app

Ativa um aplicativo IPTV específico para um usuário.

### Método e Rota
```
POST /iptv/activate/app
```

### Parâmetros do Corpo da Requisição

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `user_id` | integer | Sim | ID do usuário IPTV |
| `app_name` | string | Sim | Nome do aplicativo (ex: "smarttv", "mobile", "desktop") |
| `device_id` | string | Não | ID único do dispositivo |
| `device_name` | string | Não | Nome amigável do dispositivo |

### Exemplo de Requisição

```bash
curl -X POST "https://api.paineloffice.com/iptv/activate/app" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer {token}" \
  -d '{
    "user_id": 1001,
    "app_name": "smarttv",
    "device_id": "TV_SAMSUNG_123456",
    "device_name": "Samsung Smart TV - Sala"
  }'
```

### Exemplo de Resposta

**Sucesso (200 OK):**
```json
{
  "success": true,
  "message": "Aplicativo ativado com sucesso",
  "data": {
    "user_id": 1001,
    "app_name": "smarttv",
    "device_id": "TV_SAMSUNG_123456",
    "device_name": "Samsung Smart TV - Sala",
    "activation_code": "IPTV2024ACTIVE",
    "activated_at": "2024-01-15T12:00:00Z",
    "app_url": "http://app.iptv.com/smarttv"
  }
}
```