

## POST /franchise-price

Cria um novo preço de franquia no sistema.

### Método e Rota
```
POST /franchise-price
```

### Parâmetros do Corpo da Requisição

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `service_type` | string | Sim | Tipo de serviço (iptv/p2p/nexus/redclub) |
| `package_id` | integer | Sim | ID do pacote |
| `franchise_level` | string | Sim | Nível da franquia (bronze/silver/gold/platinum) |
| `price` | decimal | Sim | Preço da franquia |
| `discount_percentage` | decimal | Não | Percentual de desconto (0-100) |
| `min_quantity` | integer | Não | Quantidade mínima para aplicar o preço |
| `max_quantity` | integer | Não | Quantidade máxima para aplicar o preço |
| `is_active` | boolean | Não | Se o preço está ativo (padrão: true) |

### Exemplo de Requisição

```bash
curl -X POST "https://api.paineloffice.com/franchise-price" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer {token}" \
  -d '{
    "service_type": "iptv",
    "package_id": 5,
    "franchise_level": "gold",
    "price": 25.90,
    "discount_percentage": 15.5,
    "min_quantity": 10,
    "max_quantity": 100,
    "is_active": true
  }'
```

### Exemplo de Resposta

**Sucesso (201 Created):**
```json
{
  "success": true,
  "message": "Preço de franquia criado com sucesso",
  "data": {
    "id": 101,
    "service_type": "iptv",
    "package_id": 5,
    "franchise_level": "gold",
    "price": 25.90,
    "discount_percentage": 15.5,
    "min_quantity": 10,
    "max_quantity": 100,
    "is_active": true,
    "created_at": "2024-01-15T10:30:00Z"
  }
}
```

---

## GET /franchise-price

Lista todos os preços de franquias com filtros opcionais.

### Método e Rota
```
GET /franchise-price
```

### Parâmetros de Query (opcionais)

| Campo | Tipo | Descrição |
|-------|------|-----------|
| `service_type` | string | Filtrar por tipo de serviço |
| `franchise_level` | string | Filtrar por nível da franquia |
| `is_active` | boolean | Filtrar por status ativo |
| `page` | integer | Número da página (padrão: 1) |
| `per_page` | integer | Itens por página (padrão: 50) |

### Exemplo de Requisição

```bash
curl -X GET "https://api.paineloffice.com/franchise-price?service_type=iptv&franchise_level=gold&page=1&per_page=20" \
  -H "Authorization: Bearer {token}"
```

### Exemplo de Resposta

**Sucesso (200 OK):**
```json
{
  "success": true,
  "message": "Preços listados com sucesso",
  "data": {
    "prices": [
      {
        "id": 101,
        "service_type": "iptv",
        "package_id": 5,
        "package_name": "IPTV Premium",
        "franchise_level": "gold",
        "price": 25.90,
        "discount_percentage": 15.5,
        "min_quantity": 10,
        "max_quantity": 100,
        "is_active": true,
        "created_at": "2024-01-15T10:30:00Z"
      },
      {
        "id": 102,
        "service_type": "iptv",
        "package_id": 6,
        "package_name": "IPTV Ultra",
        "franchise_level": "gold",
        "price": 35.90,
        "discount_percentage": 20.0,
        "min_quantity": 5,
        "max_quantity": 50,
        "is_active": true,
        "created_at": "2024-01-15T11:00:00Z"
      }
    ],
    "pagination": {
      "current_page": 1,
      "per_page": 20,
      "total": 2,
      "total_pages": 1
    }
  }
}
```

---

## PATCH /franchise-price/{id}

Atualiza um preço de franquia existente.

### Método e Rota
```
PATCH /franchise-price/{id}
```

### Parâmetros da URL

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `id` | integer | Sim | ID do preço de franquia |

### Parâmetros do Corpo da Requisição

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `price` | decimal | Não | Novo preço |
| `discount_percentage` | decimal | Não | Novo percentual de desconto |
| `min_quantity` | integer | Não | Nova quantidade mínima |
| `max_quantity` | integer | Não | Nova quantidade máxima |
| `is_active` | boolean | Não | Novo status ativo |

### Exemplo de Requisição

```bash
curl -X PATCH "https://api.paineloffice.com/franchise-price/101" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer {token}" \
  -d '{
    "price": 22.90,
    "discount_percentage": 20.0,
    "is_active": true
  }'
```

### Exemplo de Resposta

**Sucesso (200 OK):**
```json
{
  "success": true,
  "message": "Preço de franquia atualizado com sucesso",
  "data": {
    "id": 101,
    "service_type": "iptv",
    "package_id": 5,
    "franchise_level": "gold",
    "price": 22.90,
    "discount_percentage": 20.0,
    "min_quantity": 10,
    "max_quantity": 100,
    "is_active": true,
    "updated_at": "2024-01-15T12:00:00Z"
  }
}
```

---

## DELETE /franchise-price/{id}

Remove um preço de franquia do sistema.

### Método e Rota
```
DELETE /franchise-price/{id}
```

### Parâmetros da URL

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `id` | integer | Sim | ID do preço de franquia |

### Exemplo de Requisição

```bash
curl -X DELETE "https://api.paineloffice.com/franchise-price/101" \
  -H "Authorization: Bearer {token}"
```

### Exemplo de Resposta

**Sucesso (200 OK):**
```json
{
  "success": true,
  "message": "Preço de franquia removido com sucesso",
  "data": {
    "id": 101,
    "deleted_at": "2024-01-15T12:30:00Z"
  }
}
```

**Erro (404 Not Found):**
```json
{
  "success": false,
  "message": "Preço de franquia não encontrado",
  "error": "PRICE_NOT_FOUND"
}
```

**Erro (409 Conflict):**
```json
{
  "success": false,
  "message": "Não é possível remover preço em uso por franquias ativas",
  "error": "PRICE_IN_USE"
}
```